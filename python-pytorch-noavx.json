pkgbase = python-pytorch-noavx
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration
	pkgver = 1.11.0
	pkgrel = 3
	url = https://pytorch.org
	arch = x86_64
	license = BSD
	makedepends = python
	makedepends = python-setuptools
	makedepends = python-yaml
	makedepends = python-numpy
	makedepends = cmake
	makedepends = cuda
	makedepends = cudnn
	makedepends = git
	makedepends = magma
	makedepends = ninja
	makedepends = pkgconfig
	makedepends = doxygen
	makedepends = gcc11
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = nccl
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = protobuf
	depends = ffmpeg4.4
	depends = python-future
	depends = qt5-base
	depends = onednn
	depends = intel-mkl
	depends = python-typing_extensions
	options = !lto
	source = pytorch-1.11.0::git+https://github.com/pytorch/pytorch.git#tag=v1.11.0
	source = python-pytorch-noavx-pthreadpool::git+https://github.com/Maratyszcza/pthreadpool.git
	source = python-pytorch-noavx-NNPACK::git+https://github.com/Maratyszcza/NNPACK.git
	source = python-pytorch-noavx-ios-cmake::git+https://github.com/Yangqing/ios-cmake.git
	source = python-pytorch-noavx-psimd::git+https://github.com/Maratyszcza/psimd.git
	source = python-pytorch-noavx-FXdiv::git+https://github.com/Maratyszcza/FXdiv.git
	source = python-pytorch-noavx-FP16::git+https://github.com/Maratyszcza/FP16.git
	source = python-pytorch-noavx-cub::git+https://github.com/NVlabs/cub.git
	source = python-pytorch-noavx-eigen-git-mirror::git+https://github.com/eigenteam/eigen-git-mirror.git
	source = python-pytorch-noavx-cpuinfo::git+https://github.com/pytorch/cpuinfo.git
	source = python-pytorch-noavx-enum34::git+https://github.com/PeachPy/enum34.git
	source = python-pytorch-noavx-PeachPy::git+https://github.com/Maratyszcza/PeachPy.git
	source = python-pytorch-noavx-gloo::git+https://github.com/facebookincubator/gloo
	source = python-pytorch-noavx-foxi::git+https://github.com/houseroad/foxi.git
	source = python-pytorch-noavx-ideep::git+https://github.com/intel/ideep
	source = python-pytorch-noavx-benchmark::git+https://github.com/google/benchmark.git
	source = python-pytorch-noavx-QNNPACK::git+https://github.com/pytorch/QNNPACK
	source = python-pytorch-noavx-six::git+https://github.com/benjaminp/six.git
	source = python-pytorch-noavx-ARM_NEON_2_x86_SSE::git+https://github.com/intel/ARM_NEON_2_x86_SSE.git
	source = python-pytorch-noavx-sleef::git+https://github.com/shibatch/sleef
	source = python-pytorch-noavx-fbjni::git+https://github.com/facebookincubator/fbjni.git
	source = python-pytorch-noavx-gemmlowp::git+https://github.com/google/gemmlowp.git
	source = python-pytorch-noavx-onnx-tensorrt::git+https://github.com/onnx/onnx-tensorrt
	source = python-pytorch-noavx-pocketfft::git+https://github.com/mreineck/pocketfft
	source = python-pytorch-noavx-cudnn-frontend::git+https://github.com/NVIDIA/cudnn-frontend.git
	source = python-pytorch-noavx-nccl::git+https://github.com/NVIDIA/nccl
	source = python-pytorch-noavx-googletest::git+https://github.com/google/googletest.git
	source = python-pytorch-noavx-pybind11::git+https://github.com/pybind/pybind11.git
	source = python-pytorch-noavx-breakpad::git+https://github.com/driazati/breakpad.git
	source = python-pytorch-noavx-zstd::git+https://github.com/facebook/zstd.git
	source = python-pytorch-noavx-tbb::git+https://github.com/01org/tbb
	source = python-pytorch-noavx-fbgemm::git+https://github.com/pytorch/fbgemm
	source = python-pytorch-noavx-tensorpipe::git+https://github.com/pytorch/tensorpipe.git
	source = python-pytorch-noavx-kineto::git+https://github.com/pytorch/kineto
	source = python-pytorch-noavx-onnx::git+https://github.com/onnx/onnx.git
	source = python-pytorch-noavx-fmt::git+https://github.com/fmtlib/fmt.git
	source = python-pytorch-noavx-protobuf::git+https://github.com/protocolbuffers/protobuf.git
	source = python-pytorch-noavx-XNNPACK::git+https://github.com/google/XNNPACK.git
	source = python-pytorch-noavx-flatbuffers::git+https://github.com/google/flatbuffers.git
	source = https://github.com/oneapi-src/oneDNN/commit/1fe0f2594a1bfc6386fd8f6537f971d5ae9c1214.patch
	source = fix_old_nnapi_lite_interpreter_config.patch
	source = fix-jit-frontend-nullptr-deref.patch
	source = fix_include_system.patch
	source = use-system-libuv.patch
	source = fix-building-for-torchvision.patch
	source = fix_c10.patch
	source = ffmpeg4.4.patch
	source = 66219.patch
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = 7728e99500d8034c837bbbe2b48b780d8563de4e56fff38a96766caad08cce05
	sha256sums = 21476edfa61573892a325cb8a91e13f601142e39b34e24e4575d2cdebb063b3f
	sha256sums = c272684a4c747f034163fcfd9dbb7264d5fe821dd25a060f0b791760ad0083ae
	sha256sums = 557761502bbd994d9795bef46779e4b8c60ba0b45e7d60841f477d3b7f28a00a
	sha256sums = cd9ac4aaa9f946ac5eafc57cf66c5c16b3ea7ac8af32c2558fad0705411bb669
	sha256sums = 600bd6a4bbcec9f99ab815d82cee1c2875530b2b75f4010da5ba72ce9bf31aff
	sha256sums = 4d0d7da4a3fb099ed75f3007559fad04ac96eed87c523b274fb3bb6020e6b9b8
	sha256sums = 75001b59e76831b0c93a547f851cb980e00b0d8cc7b66fb507eaeac217dc6ff9
	sha256sums = d86efbe915386989d75d313fc76785e6d9c5638b983f17e98cca32174ac1fcee

pkgname = python-pytorch-noavx
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (without AVX CPU optimizations)
	provides = python-pytorch
	conflicts = python-pytorch
	conflicts = python-pytorch-cuda
	replaces = python-pytorch-opt

pkgname = python-pytorch-noavx-cuda
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with CUDA, without AVX CPU optimizations)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = nccl
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = protobuf
	depends = ffmpeg4.4
	depends = python-future
	depends = qt5-base
	depends = onednn
	depends = intel-mkl
	depends = python-typing_extensions
	depends = cuda
	depends = cudnn
	depends = magma
	provides = python-pytorch
	provides = python-pytorch-cuda
	conflicts = python-pytorch
	conflicts = python-pytorch-cuda
	conflicts = python-pytorch-noavx
	replaces = python-pytorch-opt-cuda
