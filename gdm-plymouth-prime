pkgbase = gdm-plymouth-prime
	pkgdesc = Display manager and login screen with plymouth and Prime support for Optimus laptops
	pkgver = 40.0
	pkgrel = 1
	url = https://wiki.gnome.org/Projects/GDM
	arch = x86_64
	license = GPL
	checkdepends = check
	makedepends = yelp-tools
	makedepends = gobject-introspection
	makedepends = git
	makedepends = docbook-xsl
	makedepends = meson
	depends = plymouth
	depends = gnome-shell
	depends = gnome-session
	depends = upower
	depends = systemd
	depends = xorg-xrdb
	depends = xorg-server
	depends = xorg-xhost
	depends = libxdmcp
	source = git+https://gitlab.gnome.org/GNOME/gdm.git#commit=3246bf1af8589899621649df523e6840e4858cda
	source = 0001-pam-arch-Update-to-match-pambase-20200721.1-2.patch
	source = 0002-Xsession-Don-t-start-ssh-agent-by-default.patch
	source = 0003-nvidia-prime.patch
	source = default.pa
	sha256sums = SKIP
	sha256sums = f32555703d4f3b6babbe49ddd2c82295238623050b63826c95a959d5caec37f8
	sha256sums = aa751223e8664f65fe2cae032dc93bb94338a41cfca4c6b66a0fca0c788c4313
	sha256sums = a1fb80c69454492390e4b7edac0efe55b2178c7031051d3eab99ed8c14d3e0e4
	sha256sums = e88410bcec9e2c7a22a319be0b771d1f8d536863a7fc618b6352a09d61327dcb

pkgname = gdm-plymouth-prime
	install = gdm.install
	groups = gnome
	depends = plymouth
	depends = gnome-shell
	depends = gnome-session
	depends = upower
	depends = systemd
	depends = xorg-xrdb
	depends = xorg-server
	depends = xorg-xhost
	depends = libxdmcp
	depends = libgdm-plymouth-prime
	optdepends = fprintd: fingerprint authentication
	provides = gdm
	conflicts = gdm
	backup = etc/pam.d/gdm-autologin
	backup = etc/pam.d/gdm-fingerprint
	backup = etc/pam.d/gdm-launch-environment
	backup = etc/pam.d/gdm-password
	backup = etc/pam.d/gdm-smartcard
	backup = etc/gdm/custom.conf
	backup = etc/gdm/Xsession
	backup = etc/gdm/PostSession/Default
	backup = etc/gdm/PreSession/Default

pkgname = libgdm-plymouth-prime
	pkgdesc = GDM support library with plymouth and Prime support for Optimus laptops
	depends = systemd
	depends = glib2
	depends = dconf
	provides = libgdm
	conflicts = libgdm

